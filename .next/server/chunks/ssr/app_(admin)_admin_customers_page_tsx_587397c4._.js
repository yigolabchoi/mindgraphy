module.exports=[89,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(48645),e=a.i(3130),f=a.i(54161),g=a.i(40695),h=a.i(5522),i=a.i(87682);a.i(81410);var j=a.i(13640),k=a.i(18692),l=a.i(95846),m=a.i(62553),n=a.i(88237),o=a.i(65733),p=a.i(21958),q=a.i(18280),r=a.i(34521),s=a.i(95116),t=a.i(34846);a.i(3255);var u=a.i(77895),v=a.i(87234),w=a.i(23292),x=a.i(63519),y=a.i(92258),z=a.i(41675),A=a.i(24987),B=a.i(11156),C=a.i(63588),D=a.i(24669),E=a.i(46842),F=a.i(76472),G=a.i(67453),H=a.i(41710),I=a.i(92e3),J=a.i(27999),K=a.i(83497),L=a.i(33350),M=a.i(60246);function N({open:a,onOpenChange:d,customer:h}){if(!h)return null;let[i,j]=(0,c.useState)(!1),k=s.mockProjects.filter(a=>a.customerId===h.id),l=s.mockContracts.filter(a=>a.customerId===h.id),m=s.mockPayments.filter(a=>l.some(b=>b.id===a.contractId)),n=m.reduce((a,b)=>a+b.amount,0),N=m.filter(a=>"completed"===a.paymentStatus).reduce((a,b)=>a+b.amount,0),O=m.filter(a=>"pending"===a.paymentStatus).reduce((a,b)=>a+b.amount,0),P=k.find(a=>"scheduled"===a.projectStatus||"in_progress"===a.projectStatus)||k[0],Q=a=>({wedding:"일반 웨딩",hanbok:"한복 & 캐주얼",dress_shop:"가봉 스냅",baby:"돌스냅"})[a]||a;return(0,b.jsx)(o.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(o.DialogContent,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(o.DialogHeader,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(o.DialogTitle,{className:"text-2xl flex items-center gap-2",children:[(0,b.jsx)(E.User,{className:"h-6 w-6"}),h.groomName," & ",h.brideName]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsxs)(f.Badge,{variant:"outline",className:"flex items-center gap-1",children:[(0,b.jsx)(F.Heart,{className:"h-3 w-3"}),"고객 ID: ",h.id]}),h.activeProjects>0&&(0,b.jsxs)(f.Badge,{className:"bg-blue-600",children:["진행 중 ",h.activeProjects,"건"]}),h.completedProjects>0&&(0,b.jsxs)(f.Badge,{className:"bg-green-600",children:["완료 ",h.completedProjects,"건"]})]})]})}),(0,b.jsxs)("div",{className:"space-y-6 mt-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:h.totalProjects}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"총 촬영 건수"})]})})}),(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[(N/1e4).toLocaleString("ko-KR"),"만"]}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"총 결제금액"})]})})}),(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-2xl font-bold text-orange-600",children:[(O/1e4).toLocaleString("ko-KR"),"만"]}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"미수금"})]})})}),(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:h.latestProject?(0,v.formatDate)(h.latestProject.weddingDate):"-"}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"최근 촬영일"})]})})})]}),(0,b.jsxs)(p.Tabs,{defaultValue:P&&!P.assignedPhotographerIds?.length?"booking":"projects",className:"w-full",children:[(0,b.jsxs)(p.TabsList,{className:`grid w-full ${P?"grid-cols-5":"grid-cols-4"}`,children:[P&&(0,b.jsxs)(p.TabsTrigger,{value:"booking",className:"flex items-center gap-1",children:[(0,b.jsx)(J.CalendarCheck,{className:"h-3 w-3"}),"접수 정보",!P.assignedPhotographerIds?.length&&(0,b.jsx)("span",{className:"ml-1 h-2 w-2 bg-orange-500 rounded-full animate-pulse"})]}),(0,b.jsx)(p.TabsTrigger,{value:"projects",children:"촬영 이력"}),(0,b.jsx)(p.TabsTrigger,{value:"contact",children:"연락처"}),(0,b.jsx)(p.TabsTrigger,{value:"payment",children:"결제 정보"}),(0,b.jsx)(p.TabsTrigger,{value:"notes",children:"메모"})]}),P&&(0,b.jsx)(p.TabsContent,{value:"booking",className:"space-y-4 mt-4",children:(0,b.jsxs)(e.Card,{className:P.assignedPhotographerIds?.length?"":"border-orange-200 bg-orange-50/30",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(J.CalendarCheck,{className:"h-4 w-4"}),"고객 접수 정보"]}),!P.assignedPhotographerIds?.length&&(0,b.jsx)(f.Badge,{variant:"outline",className:"bg-orange-100 text-orange-700 border-orange-300",children:"일정 미확정"})]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-muted-foreground",children:"촬영 정보"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(z.Calendar,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"촬영일:"}),(0,b.jsxs)("span",{className:"font-medium",children:[(0,v.formatDate)(P.weddingDate)," ",P.weddingTime]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(A.MapPin,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"장소:"}),(0,b.jsx)("span",{className:"font-medium",children:P.weddingVenue})]})]})]}),(0,b.jsxs)("div",{className:"space-y-3 pt-3 border-t",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-muted-foreground",children:"선택 상품"}),(0,b.jsxs)("div",{className:"space-y-2",children:[P.projectType&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(L.Tag,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"상품 타입:"}),(0,b.jsx)(f.Badge,{variant:"outline",className:"hanbok"===P.projectType?"bg-purple-50 text-purple-700 border-purple-200":"dress_shop"===P.projectType?"bg-pink-50 text-pink-700 border-pink-200":"baby"===P.projectType?"bg-blue-50 text-blue-700 border-blue-200":"bg-zinc-50 text-zinc-700 border-zinc-200",children:Q(P.projectType)})]}),P.packageId&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(K.Package,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"패키지:"}),(0,b.jsx)("span",{className:"font-medium",children:t.mockProducts.find(a=>a.id===P.packageId)?.name||P.packageId})]}),P.optionIds&&P.optionIds.length>0&&(0,b.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,b.jsx)(L.Tag,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"옵션:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:P.optionIds.map(a=>{let c=t.mockProducts.find(b=>b.id===a);return c?(0,b.jsx)(f.Badge,{variant:"secondary",className:"text-xs",children:c.name},a):null})})]}),P.referralSource&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(M.Users,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"유입 경로:"}),(0,b.jsx)("span",{className:"font-medium",children:P.referralSource})]})]})]}),P.specialRequests&&(0,b.jsxs)("div",{className:"space-y-2 pt-3 border-t",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-muted-foreground",children:"특별 요청사항"}),(0,b.jsx)("div",{className:"text-sm bg-blue-50 border border-blue-200 rounded-lg p-3",children:P.specialRequests})]}),!P.assignedPhotographerIds?.length&&(0,b.jsxs)("div",{className:"pt-4 border-t",children:[(0,b.jsxs)(g.Button,{onClick:()=>{j(!0),setTimeout(()=>{w.toast.success("일정이 확정되었습니다",{description:`${h.groomName} & ${h.brideName}님의 촬영 일정이 캘린더에 추가되었습니다.`}),j(!1)},1e3)},disabled:i,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-md",size:"lg",children:[(0,b.jsx)(J.CalendarCheck,{className:"mr-2 h-5 w-5"}),i?"일정 확정 중...":"일정 확정하기"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"일정을 확정하면 촬영 캘린더에 자동으로 추가됩니다"})]}),P.assignedPhotographerIds&&P.assignedPhotographerIds.length>0&&(0,b.jsxs)("div",{className:"pt-4 border-t bg-green-50 border-green-200 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-green-700",children:[(0,b.jsx)(G.CheckCircle2,{className:"h-5 w-5"}),(0,b.jsx)("span",{className:"font-semibold",children:"일정이 확정되었습니다"})]}),(0,b.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"촬영 캘린더에서 일정을 확인하실 수 있습니다"})]})]})]})}),(0,b.jsx)(p.TabsContent,{value:"projects",className:"space-y-4 mt-4",children:0===k.length?(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"py-12 text-center text-muted-foreground",children:"촬영 이력이 없습니다"})}):k.map(a=>(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:a.projectNumber}),(0,b.jsx)(f.Badge,{className:(0,u.getStatusColor)(a.projectStatus),children:(0,u.getStatusLabel)(a.projectStatus)}),(0,b.jsx)(r.DdayBadge,{targetDate:a.weddingDate,showIcon:!1})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-muted-foreground",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(z.Calendar,{className:"h-4 w-4"}),(0,v.formatDate)(a.weddingDate)," ",a.weddingTime]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(A.MapPin,{className:"h-4 w-4"}),a.weddingVenue]})]}),(0,b.jsxs)("div",{className:"mt-3 space-y-2",children:[a.projectType&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(L.Tag,{className:"h-3 w-3 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"상품:"}),(0,b.jsx)(f.Badge,{variant:"outline",className:"text-xs",children:Q(a.projectType)})]}),a.packageId&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(K.Package,{className:"h-3 w-3 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"패키지:"}),(0,b.jsx)("span",{className:"font-medium text-xs",children:t.mockProducts.find(b=>b.id===a.packageId)?.name||a.packageId})]}),a.optionIds&&a.optionIds.length>0&&(0,b.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,b.jsx)(L.Tag,{className:"h-3 w-3 text-muted-foreground mt-0.5"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"옵션:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.optionIds.map(a=>{let c=t.mockProducts.find(b=>b.id===a);return c?(0,b.jsx)(f.Badge,{variant:"secondary",className:"text-xs",children:c.name},a):null})})]})]}),a.specialRequests&&(0,b.jsxs)("div",{className:"mt-3 text-sm bg-blue-50 border border-blue-200 rounded-lg p-2",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"특별 요청: "}),(0,b.jsx)("span",{children:a.specialRequests})]})]})}),(0,b.jsx)(q.ProgressBar,{value:a.progress,showLabel:!0})]})})},a.id))}),(0,b.jsx)(p.TabsContent,{value:"contact",className:"space-y-4 mt-4",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(E.User,{className:"h-4 w-4"}),"고객 연락처 정보"]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"신랑"}),(0,b.jsx)("div",{className:"font-medium text-lg",children:h.groomName}),h.groomPhone&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(x.Phone,{className:"h-3 w-3 text-muted-foreground"}),(0,b.jsx)("span",{className:"font-medium",children:h.groomPhone})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"신부"}),(0,b.jsx)("div",{className:"font-medium text-lg",children:h.brideName}),h.bridePhone&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(x.Phone,{className:"h-3 w-3 text-muted-foreground"}),(0,b.jsx)("span",{className:"font-medium",children:h.bridePhone})]})]})]}),h.email&&(0,b.jsx)("div",{className:"pt-3 border-t",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(y.Mail,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"이메일:"}),(0,b.jsx)("span",{className:"font-medium",children:h.email})]})}),P?.referralSource&&(0,b.jsx)("div",{className:"pt-3 border-t",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(M.Users,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"유입 경로:"}),(0,b.jsx)("span",{className:"font-medium",children:P.referralSource})]})})]})]})}),(0,b.jsxs)(p.TabsContent,{value:"payment",className:"space-y-4 mt-4",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(D.TrendingUp,{className:"h-4 w-4"}),"결제 요약"]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"총 계약금액"}),(0,b.jsxs)("span",{className:"font-bold text-lg",children:[(n/1e4).toLocaleString("ko-KR"),"만원"]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-green-600",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(G.CheckCircle2,{className:"h-4 w-4"}),"입금 완료"]}),(0,b.jsxs)("span",{className:"font-bold",children:[(N/1e4).toLocaleString("ko-KR"),"만원"]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-orange-600",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(H.Clock,{className:"h-4 w-4"}),"미수금"]}),(0,b.jsxs)("span",{className:"font-bold",children:[(O/1e4).toLocaleString("ko-KR"),"만원"]})]})]})]}),m.length>0?m.map(a=>{let c="deposit"===a.paymentType?"계약금":"balance"===a.paymentType?"잔금":"additional"===a.paymentType?"추가 결제":"환불";return(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(B.CreditCard,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"font-semibold",children:c}),(0,b.jsx)(f.Badge,{variant:"completed"===a.paymentStatus?"default":"outline",className:"completed"===a.paymentStatus?"bg-green-600":"text-orange-600 border-orange-300",children:"completed"===a.paymentStatus?"입금완료":"pending"===a.paymentStatus?"미입금":"failed"===a.paymentStatus?"입금실패":"환불"})]}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["결제수단: ",a.paymentMethod]}),a.paymentDate&&(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["입금일: ",(0,v.formatDate)(a.paymentDate)]}),a.notes&&(0,b.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:a.notes})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsxs)("div",{className:"font-bold text-lg",children:[(a.amount/1e4).toLocaleString("ko-KR"),"만원"]})})]})})},a.id)}):(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"py-12 text-center text-muted-foreground",children:"결제 내역이 없습니다"})})]}),(0,b.jsxs)(p.TabsContent,{value:"notes",className:"space-y-4 mt-4",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(C.MessageSquare,{className:"h-4 w-4"}),"고객 메모"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"고객 관련 메모나 특이사항을 기록할 수 있습니다."}),(0,b.jsx)(g.Button,{variant:"outline",className:"w-full",children:"메모 추가"})]})})]}),h.specialRequests&&(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(I.AlertCircle,{className:"h-4 w-4"}),"특별 요청사항"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"text-sm bg-blue-50 border border-blue-200 rounded-lg p-3",children:h.specialRequests})})]})]})]})]})]})})}var O=a.i(15618),P=a.i(87532),Q=a.i(16201),R=a.i(21374),S=a.i(70106);let T=(0,S.default)("phone-call",[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),U=(0,S.default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),V=(0,S.default)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);var W=a.i(72162),X=a.i(9941);a.i(57431),a.i(77924),a.i(18155),a.i(23665);var Y=a.i(39622),Z=a.i(85811),$=a.i(64321),_=a.i(27165),aa=a.i(67149),ab=a.i(58042),ac=a.i(94222),ad=a.i(54419),ae=a.i(59854);a.i(2274);var af=a.i(48662);let ag=[{name:"촬영 예정",value:25,color:"#3b82f6"},{name:"촬영 중",value:15,color:"#8b5cf6"},{name:"시안 확인",value:18,color:"#f59e0b"},{name:"편집 중",value:20,color:"#f97316"},{name:"완료",value:45,color:"#10b981"}],ah=[{month:"6월",satisfaction:4.6},{month:"7월",satisfaction:4.7},{month:"8월",satisfaction:4.8},{month:"9월",satisfaction:4.7},{month:"10월",satisfaction:4.9},{month:"11월",satisfaction:4.9}];function ai(){return(0,b.jsxs)(e.Card,{className:"border-0 ring-1 ring-zinc-200/50 shadow-sm",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(z.Calendar,{className:"h-5 w-5 text-purple-600"}),"고객 단계별 분포"]})}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)(af.ResponsiveContainer,{width:"100%",height:280,children:(0,b.jsxs)($.PieChart,{children:[(0,b.jsx)(_.Pie,{data:ag,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,percent:b})=>`${a} ${(100*(b||0)).toFixed(0)}%`,outerRadius:90,fill:"#8884d8",dataKey:"value",children:ag.map((a,c)=>(0,b.jsx)(aa.Cell,{fill:a.color},`cell-${c}`))}),(0,b.jsx)(ae.Tooltip,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"},formatter:a=>[`${a}명`,"고객 수"]})]})}),(0,b.jsx)("div",{className:"space-y-2 mt-4",children:ag.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color}}),(0,b.jsx)("span",{className:"text-muted-foreground",children:a.name})]}),(0,b.jsxs)("span",{className:"font-medium",children:[a.value,"명"]})]},a.name))})]})]})}function aj(){return(0,b.jsxs)(e.Card,{className:"border-0 ring-1 ring-zinc-200/50 shadow-sm",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(F.Heart,{className:"h-5 w-5 text-pink-600"}),"고객 만족도 추이"]})}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)(af.ResponsiveContainer,{width:"100%",height:280,children:(0,b.jsxs)(Y.AreaChart,{data:ah,children:[(0,b.jsx)("defs",{children:(0,b.jsxs)("linearGradient",{id:"colorSatisfaction",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,b.jsx)("stop",{offset:"5%",stopColor:"#ec4899",stopOpacity:.3}),(0,b.jsx)("stop",{offset:"95%",stopColor:"#ec4899",stopOpacity:0})]})}),(0,b.jsx)(ad.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,b.jsx)(ab.XAxis,{dataKey:"month",stroke:"#6b7280",style:{fontSize:"12px"}}),(0,b.jsx)(ac.YAxis,{domain:[4,5],stroke:"#6b7280",style:{fontSize:"12px"},ticks:[4,4.2,4.4,4.6,4.8,5]}),(0,b.jsx)(ae.Tooltip,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"},formatter:a=>[`⭐ ${a}`,"만족도"]}),(0,b.jsx)(Z.Area,{type:"monotone",dataKey:"satisfaction",stroke:"#ec4899",strokeWidth:3,fill:"url(#colorSatisfaction)"})]})}),(0,b.jsxs)("div",{className:"mt-4 flex items-center justify-between border-t pt-4",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"현재 평균"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(F.Heart,{className:"h-4 w-4 fill-pink-600 text-pink-600"}),(0,b.jsx)("span",{className:"text-lg font-bold text-pink-600",children:ah[ah.length-1].satisfaction})]})]})]})]})}function ak(){let[a,o]=(0,c.useState)(""),[q,r]=(0,c.useState)(null),[u,v]=(0,c.useState)(!1),[x,y]=(0,c.useState)("active"),[z,A]=(0,c.useState)("all"),[C,D]=(0,c.useState)("all"),[E,F]=(0,c.useState)("latest"),G=s.mockCustomers.map(a=>{let b=s.mockProjects.filter(b=>b.customerId===a.id),c=s.mockContracts.filter(b=>b.customerId===a.id),d=b.filter(a=>"completed"===a.projectStatus||"delivered"===a.projectStatus).length,e=b.filter(a=>"completed"!==a.projectStatus&&"delivered"!==a.projectStatus&&"cancelled"!==a.projectStatus).length,f=c.reduce((a,b)=>a+(b.totalAmount||0),0);return{...a,totalProjects:b.length,completedProjects:d,activeProjects:e,totalRevenue:f/1e4,latestProject:b[0],currentStage:((a,b,c)=>{let d=b.filter(a=>"completed"!==a.projectStatus&&"delivered"!==a.projectStatus&&"cancelled"!==a.projectStatus);if(0===d.length)return b.some(a=>"completed"===a.projectStatus||"delivered"===a.projectStatus)?{label:"완료",color:"bg-green-100 text-green-800 border-green-200"}:{label:"대기",color:"bg-gray-100 text-gray-800 border-gray-200"};let e=d[0].projectStatus;return"scheduled"===e?{label:"촬영 예정",color:"bg-blue-100 text-blue-800 border-blue-200"}:"in_progress"===e?{label:"촬영 중",color:"bg-purple-100 text-purple-800 border-purple-200"}:"proof_ready"===e?{label:"시안 확인",color:"bg-yellow-100 text-yellow-800 border-yellow-200"}:"editing"===e?{label:"편집 중",color:"bg-orange-100 text-orange-800 border-orange-200"}:{label:"진행 중",color:"bg-blue-100 text-blue-800 border-blue-200"}})(0,b,0),paymentStatus:((a,b)=>{let c=b.filter(b=>b.customerId===a.id);if(0===c.length)return{paid:0,total:0,percent:0};let d=c.reduce((a,b)=>a+(b.totalAmount||0),0),e=c.map(a=>a.id),f=s.mockPayments.filter(a=>e.includes(a.contractId)&&"completed"===a.paymentStatus).reduce((a,b)=>a+(b.amount||0),0),g=d>0?Math.round(f/d*100):0;return{paid:f/1e4,total:d/1e4,percent:g}})(a,s.mockContracts)}}),I=(0,c.useMemo)(()=>{let b=[...G];if("active"===x?b=b.filter(a=>a.activeProjects>0):"completed"===x&&(b=b.filter(a=>0===a.activeProjects&&a.completedProjects>0)),a){let c=a.toLowerCase();b=b.filter(a=>a.groomName.toLowerCase().includes(c)||a.brideName.toLowerCase().includes(c)||a.groomPhone?.includes(c)||a.bridePhone?.includes(c)||a.email?.toLowerCase().includes(c))}return"all"!==z&&(b=b.filter(a=>a.currentStage.label===z)),"all"!==C&&(b=b.filter(a=>{let b=4.5*(a.completedProjects>0);return"4+"===C?b>=4:"3"===C?b>=3&&b<4:"2-"!==C||b<3&&b>0})),b.sort((a,b)=>{switch(E){case"latest":return new Date(b.createdAt||0).getTime()-new Date(a.createdAt||0).getTime();case"name":return a.groomName.localeCompare(b.groomName);case"projects":return b.totalProjects-a.totalProjects;case"revenue":return b.totalRevenue-a.totalRevenue;default:return 0}}),b},[G,a,z,C,E,x]),J=G.length,K=G.filter(a=>a.activeProjects>0).length,L=G.filter(a=>a.completedProjects>0&&0===a.activeProjects).length,S=G.reduce((a,b)=>a+b.totalRevenue,0),Y=J>0?S/J:0,Z={"촬영 예정":G.filter(a=>"촬영 예정"===a.currentStage.label).length,"촬영 중":G.filter(a=>"촬영 중"===a.currentStage.label).length,"시안 확인":G.filter(a=>"시안 확인"===a.currentStage.label).length,"편집 중":G.filter(a=>"편집 중"===a.currentStage.label).length,완료:G.filter(a=>"완료"===a.currentStage.label).length},$=a=>{r(a),v(!0)},_=a=>{let{paid:b,total:c,percent:d}=a.paymentStatus;100===d?w.toast.success(`${a.groomName} & ${a.brideName}님 - 입금 완료 (${c.toLocaleString("ko-KR")}만원)`):d>0?w.toast.info(`${a.groomName} & ${a.brideName}님 - ${d}% 입금 완료 (${b.toLocaleString("ko-KR")}/${c.toLocaleString("ko-KR")}만원)`):w.toast.warning(`${a.groomName} & ${a.brideName}님 - 미입금 (${c.toLocaleString("ko-KR")}만원)`)};return(0,b.jsxs)(d.AdminLayout,{align:"left",children:[(0,b.jsxs)("div",{className:"space-y-4 md:space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"고객 관리"}),(0,b.jsx)("p",{className:"text-sm md:text-base text-muted-foreground",children:"고객 정보와 진행 상황을 관리하세요"})]}),(0,b.jsxs)(g.Button,{className:"w-full sm:w-auto",children:[(0,b.jsx)(O.Plus,{className:"mr-2 h-4 w-4"}),"고객 등록"]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3 animate-in fade-in slide-in-from-bottom duration-300",children:[(0,b.jsx)(j.KPICard,{title:"전체 고객",value:J,description:"총 등록 고객 수",icon:M.Users,valueClassName:"group-hover:text-blue-600",onClick:()=>{}}),(0,b.jsx)(j.KPICard,{title:"진행 중",value:K,description:"현재 진행 중인 고객",icon:H.Clock,valueClassName:"text-blue-600",onClick:()=>{}}),(0,b.jsx)(j.KPICard,{title:"완료",value:L,description:"촬영 완료 고객",icon:Q.CheckCircle,valueClassName:"text-green-600",onClick:()=>{}})]}),(0,b.jsxs)(p.Tabs,{value:x,onValueChange:a=>y(a),className:"animate-in fade-in slide-in-from-bottom duration-500",children:[(0,b.jsxs)(p.TabsList,{className:"grid w-full max-w-2xl grid-cols-3",children:[(0,b.jsxs)(p.TabsTrigger,{value:"active",className:"flex items-center gap-2",children:[(0,b.jsx)(H.Clock,{className:"h-4 w-4"}),"진행 중 (",K,")"]}),(0,b.jsxs)(p.TabsTrigger,{value:"completed",className:"flex items-center gap-2",children:[(0,b.jsx)(Q.CheckCircle,{className:"h-4 w-4"}),"완료 (",L,")"]}),(0,b.jsxs)(p.TabsTrigger,{value:"trends",className:"flex items-center gap-2",children:[(0,b.jsx)(U,{className:"h-4 w-4"}),"트렌드 분석"]})]}),(0,b.jsxs)(p.TabsContent,{value:"active",className:"mt-6 space-y-4",children:[(0,b.jsx)(e.Card,{className:"border-0 ring-1 ring-zinc-200/50 shadow-sm",children:(0,b.jsx)(e.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(P.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(h.Input,{placeholder:"고객명, 연락처, 이메일로 검색...",value:a,onChange:a=>o(a.target.value),className:"pl-9 focus-ring"})]}),(0,b.jsxs)(i.Select,{value:E,onValueChange:a=>F(a),children:[(0,b.jsxs)(i.SelectTrigger,{className:"w-full sm:w-[180px]",children:[(0,b.jsx)(X.ArrowUpDown,{className:"h-4 w-4 mr-2"}),(0,b.jsx)(i.SelectValue,{placeholder:"정렬"})]}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"latest",children:"최신 등록순"}),(0,b.jsx)(i.SelectItem,{value:"name",children:"고객명순"}),(0,b.jsx)(i.SelectItem,{value:"projects",children:"프로젝트 많은순"}),(0,b.jsx)(i.SelectItem,{value:"revenue",children:"매출 높은순"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(W.SlidersHorizontal,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"font-medium",children:"필터:"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,b.jsxs)(i.Select,{value:z,onValueChange:A,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"진행 단계"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"all",children:"모든 단계"}),(0,b.jsx)(i.SelectItem,{value:"촬영 예정",children:"촬영 예정"}),(0,b.jsx)(i.SelectItem,{value:"촬영 중",children:"촬영 중"}),(0,b.jsx)(i.SelectItem,{value:"시안 확인",children:"시안 확인"}),(0,b.jsx)(i.SelectItem,{value:"편집 중",children:"편집 중"}),(0,b.jsx)(i.SelectItem,{value:"완료",children:"완료"}),(0,b.jsx)(i.SelectItem,{value:"대기",children:"대기"})]})]}),(0,b.jsxs)(i.Select,{value:C,onValueChange:D,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"만족도"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"all",children:"모든 만족도"}),(0,b.jsx)(i.SelectItem,{value:"4+",children:"⭐ 4점 이상"}),(0,b.jsx)(i.SelectItem,{value:"3",children:"⭐ 3점대"}),(0,b.jsx)(i.SelectItem,{value:"2-",children:"⭐ 3점 미만"})]})]})]}),("all"!==z||"all"!==C||a)&&(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"활성 필터:"}),a&&(0,b.jsxs)(f.Badge,{variant:"secondary",className:"gap-1",children:["검색: ",a,(0,b.jsx)("button",{onClick:()=>o(""),className:"ml-1 hover:text-foreground",children:"×"})]}),"all"!==z&&(0,b.jsxs)(f.Badge,{variant:"secondary",className:"gap-1",children:["단계: ",z,(0,b.jsx)("button",{onClick:()=>A("all"),className:"ml-1 hover:text-foreground",children:"×"})]}),"all"!==C&&(0,b.jsxs)(f.Badge,{variant:"secondary",className:"gap-1",children:["만족도: ","4+"===C?"4점 이상":"3"===C?"3점대":"3점 미만",(0,b.jsx)("button",{onClick:()=>D("all"),className:"ml-1 hover:text-foreground",children:"×"})]}),(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>{o(""),A("all"),D("all")},className:"h-6 text-xs",children:"전체 초기화"})]})]})})}),(0,b.jsxs)(e.Card,{className:"border-0 ring-1 ring-zinc-200/50 shadow-sm",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"고객 목록"}),(0,b.jsxs)(f.Badge,{variant:"secondary",children:[I.length,"명"]})]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(n.Table,{children:[(0,b.jsx)(n.TableHeader,{children:(0,b.jsxs)(n.TableRow,{children:[(0,b.jsx)(n.TableHead,{children:"고객명"}),(0,b.jsx)(n.TableHead,{children:"연락처"}),(0,b.jsx)(n.TableHead,{className:"text-center",children:"상품타입"}),(0,b.jsx)(n.TableHead,{className:"text-center",children:"패키지"}),(0,b.jsx)(n.TableHead,{className:"text-center",children:"현재 단계"}),(0,b.jsx)(n.TableHead,{className:"text-center",children:"입금 상태"})]})}),(0,b.jsx)(n.TableBody,{children:0===I.length?(0,b.jsx)(n.TableRow,{children:(0,b.jsx)(n.TableCell,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:a?"검색 결과가 없습니다.":"등록된 고객이 없습니다."})}):I.map((a,c)=>(0,b.jsxs)(n.TableRow,{onClick:()=>$(a),className:"cursor-pointer hover:bg-gradient-to-r hover:from-zinc-50 hover:to-transparent transition-all animate-in fade-in slide-in-from-bottom",style:{animationDelay:`${30*c}ms`},children:[(0,b.jsx)(n.TableCell,{children:(0,b.jsxs)("div",{className:"font-medium",children:[a.groomName," & ",a.brideName]})}),(0,b.jsx)(n.TableCell,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-1 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 text-zinc-700",children:[(0,b.jsx)(T,{className:"h-3 w-3"}),"신랑: ",a.groomPhone]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-zinc-700",children:[(0,b.jsx)(T,{className:"h-3 w-3"}),"신부: ",a.bridePhone]})]})}),(0,b.jsx)(n.TableCell,{className:"text-center",children:a.latestProject?.projectType?(0,b.jsx)(f.Badge,{variant:"outline",className:"hanbok"===a.latestProject.projectType?"bg-purple-50 text-purple-700 border-purple-200":"dress_shop"===a.latestProject.projectType?"bg-pink-50 text-pink-700 border-pink-200":"baby"===a.latestProject.projectType?"bg-blue-50 text-blue-700 border-blue-200":"bg-zinc-50 text-zinc-700 border-zinc-200",children:"wedding"===a.latestProject.projectType?"일반 웨딩":"hanbok"===a.latestProject.projectType?"한복 & 캐주얼":"dress_shop"===a.latestProject.projectType?"가봉 스냅":"baby"===a.latestProject.projectType?"돌스냅":"-"}):(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"-"})}),(0,b.jsx)(n.TableCell,{className:"text-center",children:a.latestProject?.packageId?(0,b.jsx)("div",{className:"text-xs font-medium",children:t.mockProducts.find(b=>b.id===a.latestProject?.packageId)?.name||a.latestProject.packageId}):(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"-"})}),(0,b.jsx)(n.TableCell,{className:"text-center",children:(0,b.jsx)(m.StatusBadge,{status:a.currentStage.label})}),(0,b.jsx)(n.TableCell,{className:"text-center",children:(0,b.jsxs)("button",{onClick:()=>_(a),className:"flex flex-col items-center gap-1 w-full hover:bg-muted rounded-lg p-2 transition-all focus-ring",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(B.CreditCard,{className:"h-3 w-3"}),(0,b.jsxs)("span",{className:`text-xs font-medium ${100===a.paymentStatus.percent?"text-green-600":a.paymentStatus.percent>0?"text-orange-600":"text-red-600"}`,children:[a.paymentStatus.percent,"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,b.jsx)("div",{className:`h-1.5 rounded-full transition-all ${100===a.paymentStatus.percent?"bg-green-600":a.paymentStatus.percent>0?"bg-orange-500":"bg-red-500"}`,style:{width:`${a.paymentStatus.percent}%`}})})]})})]},a.id))})]})})})]})]}),(0,b.jsxs)(p.TabsContent,{value:"completed",className:"mt-6 space-y-4",children:[(0,b.jsx)(e.Card,{className:"border-0 ring-1 ring-zinc-200/50 shadow-sm",children:(0,b.jsx)(e.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(P.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(h.Input,{placeholder:"고객명, 연락처, 이메일로 검색...",value:a,onChange:a=>o(a.target.value),className:"pl-9 focus-ring"})]}),(0,b.jsxs)(i.Select,{value:E,onValueChange:a=>F(a),children:[(0,b.jsxs)(i.SelectTrigger,{className:"w-full sm:w-[180px]",children:[(0,b.jsx)(X.ArrowUpDown,{className:"h-4 w-4 mr-2"}),(0,b.jsx)(i.SelectValue,{placeholder:"정렬"})]}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"latest",children:"최신 등록순"}),(0,b.jsx)(i.SelectItem,{value:"name",children:"고객명순"}),(0,b.jsx)(i.SelectItem,{value:"projects",children:"프로젝트 많은순"}),(0,b.jsx)(i.SelectItem,{value:"revenue",children:"매출 높은순"})]})]})]}),a&&(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"활성 필터:"}),(0,b.jsxs)(f.Badge,{variant:"secondary",className:"gap-1",children:["검색: ",a,(0,b.jsx)("button",{onClick:()=>o(""),className:"ml-1 hover:text-foreground",children:"×"})]})]})]})})}),(0,b.jsx)(e.Card,{className:"border-0 ring-1 ring-zinc-200/50 shadow-sm",children:(0,b.jsx)(e.CardContent,{className:"p-0",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(n.Table,{children:[(0,b.jsx)(n.TableHeader,{children:(0,b.jsxs)(n.TableRow,{className:"hover:bg-transparent",children:[(0,b.jsx)(n.TableHead,{className:"w-[180px]",children:"고객명"}),(0,b.jsx)(n.TableHead,{className:"w-[140px]",children:"연락처"}),(0,b.jsx)(n.TableHead,{className:"w-[110px] text-center",children:"상품타입"}),(0,b.jsx)(n.TableHead,{className:"w-[100px] text-center",children:"패키지"}),(0,b.jsx)(n.TableHead,{className:"w-[100px] text-center",children:"진행상태"}),(0,b.jsx)(n.TableHead,{className:"w-[100px] text-center",children:"입금현황"}),(0,b.jsx)(n.TableHead,{className:"w-[100px] text-right",children:"매출"})]})}),(0,b.jsx)(n.TableBody,{children:0===I.length?(0,b.jsx)(n.TableRow,{children:(0,b.jsx)(n.TableCell,{colSpan:7,className:"h-24 text-center text-muted-foreground",children:"완료된 고객이 없습니다"})}):I.map((a,c)=>(0,b.jsxs)(n.TableRow,{onClick:()=>$(a),className:"cursor-pointer hover:bg-muted/50 transition-colors animate-in fade-in slide-in-from-bottom",style:{animationDelay:`${30*c}ms`},children:[(0,b.jsx)(n.TableCell,{className:"font-medium",children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{children:[a.groomName," & ",a.brideName]}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:a.email})]})}),(0,b.jsx)(n.TableCell,{children:(0,b.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 text-zinc-700",children:[(0,b.jsx)(T,{className:"h-3 w-3"}),a.groomPhone]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-zinc-700",children:[(0,b.jsx)(T,{className:"h-3 w-3"}),a.bridePhone]})]})}),(0,b.jsx)(n.TableCell,{className:"text-center",children:a.latestProject?.projectType?(0,b.jsx)(f.Badge,{variant:"outline",className:"hanbok"===a.latestProject.projectType?"bg-purple-50 text-purple-700 border-purple-200":"dress_shop"===a.latestProject.projectType?"bg-pink-50 text-pink-700 border-pink-200":"baby"===a.latestProject.projectType?"bg-blue-50 text-blue-700 border-blue-200":"bg-zinc-50 text-zinc-700 border-zinc-200",children:"wedding"===a.latestProject.projectType?"일반 웨딩":"hanbok"===a.latestProject.projectType?"한복 & 캐주얼":"dress_shop"===a.latestProject.projectType?"가봉 스냅":"baby"===a.latestProject.projectType?"돌스냅":"-"}):(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"-"})}),(0,b.jsx)(n.TableCell,{className:"text-center",children:a.latestProject?.packageId?(0,b.jsx)("div",{className:"text-xs font-medium",children:t.mockProducts.find(b=>b.id===a.latestProject?.packageId)?.name||a.latestProject.packageId}):(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"-"})}),(0,b.jsx)(n.TableCell,{className:"text-center",children:(0,b.jsx)(f.Badge,{variant:"outline",className:a.currentStage.color,children:a.currentStage.label})}),(0,b.jsx)(n.TableCell,{className:"text-center",children:(0,b.jsxs)("button",{onClick:()=>_(a),className:"flex flex-col items-center gap-1 w-full hover:bg-muted rounded-lg p-2 transition-all focus-ring",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(B.CreditCard,{className:"h-3 w-3"}),(0,b.jsxs)("span",{className:`text-xs font-medium ${100===a.paymentStatus.percent?"text-green-600":a.paymentStatus.percent>0?"text-orange-600":"text-red-600"}`,children:[a.paymentStatus.percent,"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,b.jsx)("div",{className:`h-1.5 rounded-full transition-all ${100===a.paymentStatus.percent?"bg-green-600":a.paymentStatus.percent>0?"bg-orange-500":"bg-red-500"}`,style:{width:`${a.paymentStatus.percent}%`}})})]})}),(0,b.jsxs)(n.TableCell,{className:"text-right font-semibold",children:[a.totalRevenue.toLocaleString("ko-KR"),"만원"]})]},a.id))})]})})})})]}),(0,b.jsxs)(p.TabsContent,{value:"trends",className:"mt-6 space-y-4",children:[(0,b.jsx)(k.StatCard,{title:"단계별 고객 분포",icon:V,animationDelay:1e3,children:(0,b.jsx)("div",{className:"space-y-4",children:Object.entries(Z).map(([a,c],d)=>{let e=J>0?Math.round(c/J*100):0;return(0,b.jsx)(l.ProgressStat,{label:a,value:c,total:J,percentage:e,color:{"촬영 예정":"blue","촬영 중":"purple","시안 확인":"yellow","편집 중":"orange",완료:"green"}[a]||"blue",animationDelay:100*d},a)})})}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)(k.StatCard,{title:"평균 프로젝트 수",animationDelay:300,children:[(0,b.jsx)("div",{className:"text-3xl font-bold",children:(G.reduce((a,b)=>a+b.totalProjects,0)/J||0).toFixed(1)}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"고객당 평균 촬영 횟수"})]}),(0,b.jsxs)(k.StatCard,{title:"고객 만족도",animationDelay:500,children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"text-3xl font-bold",children:"4.8"}),(0,b.jsx)(R.Star,{className:"h-6 w-6 text-yellow-500 fill-yellow-500"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"5점 만점 기준"})]})]}),(0,b.jsxs)("div",{className:"mt-8 space-y-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,b.jsx)(U,{className:"h-5 w-5"}),"상세 트렌드 분석"]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsx)(ai,{}),(0,b.jsx)(aj,{})]}),(0,b.jsxs)(e.Card,{className:"border-0 ring-1 ring-zinc-200/50 shadow-sm",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{className:"text-base",children:"이번 달 하이라이트"})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("div",{className:"text-muted-foreground mb-1",children:"평균 매출"}),(0,b.jsxs)("div",{className:"text-2xl font-bold",children:[Y.toLocaleString("ko-KR"),"만원"]})]}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("div",{className:"text-muted-foreground mb-1",children:"활성 고객"}),(0,b.jsxs)("div",{className:"text-xl font-bold text-blue-600",children:[K,"명"]})]})]})]})]})]})]})]}),(0,b.jsx)(N,{open:u,onOpenChange:v,customer:q})]})}a.s(["default",()=>ak],89)}];

//# sourceMappingURL=app_%28admin%29_admin_customers_page_tsx_587397c4._.js.map